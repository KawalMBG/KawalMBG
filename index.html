<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulir Komplain PMBG</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
</head>

<body>

    <div class="container">
        <div id="login-section" class="section">
            <h2>Formulir Komplain Program Makan Bergizi Gratis</h2>
            <p>Silakan login untuk mengisi laporan.</p>
            <center>
                <div id="google-login-button"></div>
            </center>
        </div>

        <div id="main-form-section" class="section" style="display:none;">
            <p id="user-info">Selamat datang, [Nama Pengguna]</p>

            <form id="reporter-info-form">
                <label for="reporter-name">Nama Pelapor:</label>
                <input type="text" id="reporter-name" name="reporter-name" required>

                <label for="reporter-whatsapp">No Whatsapp:</label>
                <input type="tel" id="reporter-whatsapp" name="reporter-whatsapp" pattern="[0-9]{10,15}" required>

                <label for="reporter-school">Nama Sekolah:</label>
                <input type="text" id="reporter-school" name="reporter-school" required>

                <label for="reporter-school-address">Alamat Sekolah:</label>
                <input type="text" id="reporter-school-address" name="reporter-school-address" readonly>

                <hr>

                <div class="form-options">
                    <label for="report-type">Pilih Tipe Laporan:</label>
                    <select id="report-type" name="report-type" required>
                        <option value="">-- Pilih Tipe --</option>
                        <option value="before">Form A (Sebelum Kejadian)</option>
                        <option value="after">Form B (Sesudah Kejadian)</option>
                    </select>
                </div>

            </form>

            <form id="form-before" class="complaint-form" style="display:none;">
                <h3>Form A (Sebelum Terjadi Kejadian/Insiden)</h3>

                <div class="form-group">
                    <p><b>Kelayakan Makanan:</b></p>
                    <table>
                        <tr>
                            <td>
                                <input type="radio" id="makanan-layak" name="kelayakan_makanan" value="Layak" required>
                            </td>
                            <td><label for="makanan-layak">Layak</label></td>
                        </tr>
                        <tr>
                            <td>
                                <input type="radio" id="makanan-tidak-layak" name="kelayakan_makanan"
                                    value="Tidak Layak">
                            </td>
                            <td><label for="makanan-tidak-layak">Tidak Layak</label></td>
                        </tr>
                    </table>
                </div>

                <div class="form-group">
                    <label for="deskripsi-layak">Deskripsi Keluhan:</label>
                    <textarea id="deskripsi-layak" name="deskripsi_kelayakan_makanan" rows="3"></textarea>
                </div>

                <div class="form-group">
                    <label for="bukti-layak">Bukti Pendukung (Maks. 1MB per file):</label>
                    <input type="file" id="bukti-layak" name="bukti_layak" multiple accept="image/*,video/*">
                </div>

                <hr>

                <div class="form-group">
                    <p><b>Kebersihan Dapur/Pengolahan:</b></p>
                    <table>
                        <tr>
                            <td>
                                <input type="radio" id="dapur-bersih" name="kebersihan" value="Bersih" required>
                            </td>
                            <td><label for="dapur-bersih">Bersih</label></td>
                        </tr>
                        <tr>
                            <td>
                                <input type="radio" id="dapur-tidak-bersih" name="kebersihan" value="Tidak Bersih">
                            </td>
                            <td><label for="dapur-tidak-bersih">Tidak Bersih</label></td>
                        </tr>
                    </table>
                </div>

                <div class="form-group">
                    <label for="deskripsi-bersih">Deskripsi Keluhan:</label>
                    <textarea id="deskripsi-bersih" name="deskripsi_kebersihan" rows="3"></textarea>
                </div>

                <div class="form-group">
                    <label for="bukti-bersih">Bukti Pendukung (Maks. 1MB per file):</label>
                    <input type="file" id="bukti-bersih" name="bukti_bersih" multiple accept="image/*,video/*">
                </div>

                <div class="form-group">
                    <label for="tindaklanjut-bersih">Permintaan Tindak Lanjut:</label>
                    <textarea id="tindaklanjut-bersih" name="tindaklanjut_bersih" rows="3"></textarea>
                </div>

                <button type="submit">Kirim Laporan Form A</button>
            </form>

            <form id="form-after" class="complaint-form" style="display:none;">
                <h3>Form B (Sesudah Terjadi Kejadian/Insiden)</h3>

                <div class="form-group">
                    <p><b>Jenis Insiden:</b></p>
                    <table>
                        <tr>
                            <td>
                                <input type="radio" id="insiden-keracunan" name="jenis_insiden"
                                    value="Keracunan/Jatuh Sakit" required>
                            </td>
                            <td><label for="insiden-keracunan">Keracunan/Jatuh Sakit</label></td>
                        </tr>
                        <tr>
                            <td>
                                <input type="radio" id="insiden-rawat-inap" name="jenis_insiden" value="Rawat Inap">
                            </td>
                            <td><label for="insiden-rawat-inap">Rawat Inap</label></td>
                        </tr>
                        <tr>
                            <td>
                                <input type="radio" id="insiden-kematian" name="jenis_insiden" value="Kematian">
                            </td>
                            <td><label for="insiden-kematian">Kematian</label></td>
                        </tr>
                    </table>
                </div>
                <div class="form-group">
                    <label for="jumlah">Jumlah Terdampak:</label>
                    <input id="jumlah" name="jumlah_terdampak" type="number">
                </div>

                <div class="form-group">
                    <label for="kronologi">Kronologi Kejadian:</label>
                    <textarea id="kronologi" name="kronologi_kejadian" rows="3"></textarea>
                </div>

                <div class="form-group">
                    <label for="dampak">Dampak pada Korban:</label>
                    <textarea id="dampak" name="dampak_korban" rows="3"></textarea>
                </div>

                <div class="form-group">
                    <label for="bukti-setelah">Bukti Pendukung (Surat Dokter/RS, Foto, Saksi):</label>
                    <input type="file" id="bukti-setelah" name="bukti_setelah" multiple
                        accept="image/*,video/*,application/pdf">
                </div>

                <div class="form-group">
                    <label for="tanggungjawab">Permintaan Tindak lanjut :</label>
                    <textarea id="tanggungjawab" name="tanggungjawab" rows="3"></textarea>
                </div>

                <button type="submit">Kirim Laporan Form B</button>
            </form>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js"></script>
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <script src="script.js"></script>
</body>

</html>